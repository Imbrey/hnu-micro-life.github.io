<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>微生活积分中心2025年度报告</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #f9f4ff 0%, #eef7ff 100%);
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
            padding: 10px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 100, 0.08);
            overflow: hidden;
            position: relative;
            padding-bottom: 80px;
        }
        
        /* 顶部装饰和标题 */
        .header {
            background: linear-gradient(120deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 30px 20px 40px;
            text-align: center;
            border-radius: 0 0 40% 40%;
            position: relative;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
        }
        
        .header h1 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .header .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            position: relative;
            z-index: 2;
            max-width: 90%;
            margin: 0 auto;
        }
        
        /* 卡片样式 */
        .card {
            background: white;
            border-radius: 16px;
            padding: 22px;
            margin: 20px 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(106, 17, 203, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(106, 17, 203, 0.1);
        }
        
        .card-title {
            color: #6a11cb;
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            font-weight: 600;
        }
        
        .card-title i {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        /* 数据高亮 */
        .highlight {
            color: #2575fc;
            font-weight: 700;
            font-size: 1.4rem;
            background: linear-gradient(120deg, rgba(106, 17, 203, 0.1) 0%, rgba(37, 117, 252, 0.1) 100%);
            padding: 3px 10px;
            border-radius: 8px;
            display: inline-block;
            margin: 5px 0;
        }
        
        /* 图表容器 */
        .chart-container {
            height: 180px;
            margin: 20px 0;
            position: relative;
            background: #f9f9ff;
            border-radius: 12px;
            padding: 15px;
        }
        
        .chart-bar {
            position: absolute;
            bottom: 0;
            background: linear-gradient(to top, #6a11cb, #2575fc);
            border-radius: 6px 6px 0 0;
            width: 30px;
            transition: height 1s ease-out;
        }
        
        .chart-label {
            position: absolute;
            bottom: -25px;
            font-size: 0.8rem;
            color: #666;
            text-align: center;
            width: 30px;
        }
        
        /* 文章链接 */
        .article-links {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 15px;
        }
        
        .article-link {
            display: block;
            padding: 12px 15px;
            background: #f5f9ff;
            border-radius: 10px;
            color: #2575fc;
            text-decoration: none;
            border-left: 4px solid #6a11cb;
            transition: all 0.3s;
        }
        
        .article-link:hover {
            background: #eef5ff;
            transform: translateX(5px);
        }
        
        /* 图片区域 */
        .image-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .image-item {
            border-radius: 12px;
            overflow: hidden;
            height: 140px;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 0.9rem;
        }
        
        /* 底部操作栏 */
        .footer-actions {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            display: flex;
            justify-content: center;
            gap: 15px;
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.08);
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        
        .action-btn {
            padding: 14px 28px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            text-decoration: none;
        }
        
        .primary-btn {
            background: linear-gradient(120deg, #6a11cb, #2575fc);
            color: white;
            flex: 1;
            max-width: 250px;
        }
        
        .secondary-btn {
            background: white;
            color: #6a11cb;
            border: 2px solid #6a11cb;
            flex: 1;
            max-width: 250px;
        }
        
        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(106, 17, 203, 0.2);
        }
        
        /* 分享提示 */
        .share-tip {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 12px 18px;
            border-radius: 10px;
            font-size: 0.9rem;
            z-index: 1000;
            display: none;
            align-items: center;
            gap: 10px;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* 响应式调整 */
        @media (max-width: 600px) {
            .header {
                padding: 25px 15px 35px;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .card {
                padding: 18px;
                margin: 15px 10px;
            }
            
            .card-title {
                font-size: 1.2rem;
            }
            
            .highlight {
                font-size: 1.2rem;
            }
            
            .image-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-actions {
                padding: 12px;
            }
            
            .action-btn {
                padding: 12px 20px;
                font-size: 0.95rem;
            }
        }
        
        /* 加载动画 */
        .loader {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #6a11cb;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- 加载动画 -->
    <div class="loader" id="loader">
        <div class="spinner"></div>
        <p>加载中，请稍候...</p>
    </div>
    
    <!-- 分享提示 -->
    <div class="share-tip" id="shareTip">
        <i class="fas fa-share-alt"></i>
        <span>点击右上角分享给朋友</span>
    </div>
    
    <div class="container">
        <!-- 页头 -->
        <div class="header">
            <h1>微生活积分中心2025年度报告</h1>
            <p class="subtitle">致每一位湖大人，这是我们共同书写的2025</p>
            <p class="subtitle">再见2025，你好2026，这份藏着温度的年度积分报告，此刻与你温柔相见～</p>
        </div>
        
        <!-- 新朋友 -->
        <div class="card">
            <h2 class="card-title"><i class="fas fa-user-plus"></i> 回顾2025，迎来新朋友</h2>
            <p>微微又迎来了一群新朋友，<span class="highlight">8892位</span>新同学注册了湖大微生活，微微很高兴遇到你们～</p>
        </div>
        
        <!-- 数据总览 -->
        <div class="card">
            <h2 class="card-title"><i class="fas fa-chart-line"></i> 微生活成长足迹</h2>
            <p>湖大微生活成立至今，微微已经成为<span class="highlight">79652位</span> HNUer 的线上聚集地，</p>
            <p><span class="highlight">23974人</span>解锁积分功能，积分中心累计发放<span class="highlight">304万+</span>积分，每一分都是我们之间的珍贵羁绊。</p>
        </div>
        
        <!-- 签到数据 -->
        <div class="card">
            <h2 class="card-title"><i class="fas fa-calendar-check"></i> 2025签到陪伴</h2>
            <p>2025，微微见证了HNUer们<span class="highlight">35万+</span>签到，春去秋来的坚持让平淡的日子有了仪式感。</p>
            <p>其中，<span class="highlight">11月</span>签到次数最多，<span class="highlight">70748次</span>打卡记录着HNUer们的陪伴与坚持。</p>
            
            <div class="chart-container" id="signChart">
                <!-- 柱状图将通过JS动态生成 -->
            </div>
        </div>
        
        <!-- 热门文章 -->
        <div class="card">
            <h2 class="card-title"><i class="fas fa-newspaper"></i> 知湖·年度热门推文</h2>
            <p>一年的时光相伴，微微为你捎来湖大的每一份讯息。知湖<span class="highlight">6万+</span>次阅读，藏着独属于湖大的小确幸。</p>
            <p>今年读过的推文，还记得哪一篇最戳你吗？</p>
            
            <div class="article-links">
                <a href="https://mp.weixin.qq.com/s/l00fc0LJA05vHBbjmIJIXA" class="article-link" target="_blank">
                    《积分基础，奖品就不基础》
                </a>
                <a href="https://mp.weixin.qq.com/s/C7tCAoo0tbIux8aBL5gRw" class="article-link" target="_blank">
                    《爱你老己，老自送你演出门票》
                </a>
                <a href="https://mp.weixin.qq.com/s/q7PXMOAQy0x3hoIVnVzS9A" class="article-link" target="_blank">
                    《萌新指南 | 听说了吗？湖大人都在用......》
                </a>
                <a href="https://mp.weixin.qq.com/s/s7Ot2QUw23R26mC0jitS4Q" class="article-link" target="_blank">
                    《问东问西，不如问问我这个小东西》
                </a>
                <a href="https://mp.weixin.qq.com/s/DwAK9PCtDEGIlSoEkKOPBQ" class="article-link" target="_blank">
                    《毕业前，开麦》
                </a>
            </div>
        </div>
        
        <!-- 反馈与福利 -->
        <div class="card">
            <h2 class="card-title"><i class="fas fa-comments"></i> 反馈与福利</h2>
            <p>今年，微微一共收到了<span class="highlight">1,301条</span>反馈建议，每一条金点子都在助力微微成长。</p>
            <p>2025，微微继续为大家送上福利，其中，<span class="highlight">惊喜盲盒</span>以超高人气稳居兑换榜首！</p>
            
            <div class="image-grid">
                <div class="image-item">惊喜盲盒图片</div>
                <div class="image-item">毕业行李箱图片</div>
            </div>
            
            <p>此外，<span class="highlight">21位</span>毕业生带走2025毕业行李箱，微微送出潮声波音乐节门票<span class="highlight">30张</span>，十佳歌手演出门票<span class="highlight">20张</span>，新年演出季门票<span class="highlight">60张</span>。没准，下一个幸运儿就是你呢？</p>
        </div>
        
        <!-- 积分排行榜 -->
        <div class="card">
            <h2 class="card-title"><i class="fas fa-crown"></i> 积分排行榜</h2>
            <p>微微发现，今年积分中心出了几个大人物，一位同学以<span class="highlight">6158分</span>登顶"积分首富"！</p>
            <p>前10名HNUer的积分均超过<span class="highlight">2900分</span>，太会攒啦！每一分积攒都变成了实实在在的快乐～</p>
        </div>
        
        <!-- 2026预告 -->
        <div class="card">
            <h2 class="card-title"><i class="fas fa-gift"></i> 2026惊喜预告</h2>
            <p>2026年，微生活新增【主题留言板】栏目，每月设定专属互动主题，参与留言即可解锁额外积分奖励。</p>
            <p>让每一份心声都被听见，每一次分享都有收获～</p>
            <p>本月主题·新年愿望墙：旧岁的故事已落幕，新年的篇章待开启～</p>
            
            <div class="image-grid">
                <div class="image-item">留言板界面图</div>
                <div class="image-item">IP周边产品图</div>
            </div>
            
            <p>2026年将同步上线积分中心，这份专属惊喜，千万别错过～</p>
            <p>在2025的结尾，告诉我们你心中的<span class="highlight">「梦中情礼」</span>。</p>
            <p>湖大特色周边？实用好物？潮流单品？明年兑换区，说不定就有你的心动款～</p>
        </div>
        
        <!-- 结尾致谢 -->
        <div class="card">
            <h2 class="card-title"><i class="fas fa-heart"></i> 感谢陪伴，2026不见不散</h2>
            <p>2025年，有人坚持每日签到，用清晨的轻点开启元气一天，用深夜的查看收尾忙碌日常。</p>
            <p>有人深耕学业之余，阅读文章、发表见解。有人用积分兑换实用好物，把麓山南路的青春足迹悄悄珍藏。</p>
            <p>感谢每一位湖大人的陪伴，让积分中心成为连接校园与生活的暖心纽带，见证每一份成长与美好～</p>
            <p style="text-align: center; margin-top: 20px; font-weight: 600; color: #6a11cb;">
                2025，我们以积分为伴，定格温暖，<br>
                2026，微生活与你不见不散，解锁更多精彩～
            </p>
            <p style="text-align: center; margin-top: 15px; font-size: 0.9rem; color: #888;">
                数据统计时间：2025.1.1-2025.12.31<br>
                出品：湖南大学微生活产品运营部
            </p>
        </div>
    </div>
    
    <!-- 底部操作栏 -->
    <div class="footer-actions">
        <button class="action-btn primary-btn" id="viewMessageBoard">
            <i class="fas fa-pen-alt"></i> 立即前往留言板
        </button>
        <button class="action-btn secondary-btn" id="shareReport">
            <i class="fas fa-share-alt"></i> 分享年度报告
        </button>
    </div>
    
    <script>
        // 页面加载
        document.addEventListener('DOMContentLoaded', function() {
            // 显示加载动画
            document.getElementById('loader').style.display = 'flex';
            
            // 模拟加载过程
            setTimeout(function() {
                document.getElementById('loader').style.display = 'none';
                initPage();
            }, 800);
            
            // 初始化微信分享
            initWeChatShare();
        });
        
        // 初始化页面
        function initPage() {
            // 生成签到柱状图
            generateSignChart();
            
            // 绑定按钮事件
            document.getElementById('viewMessageBoard').addEventListener('click', function() {
                showLoading("正在跳转留言板...");
                // 这里替换为实际的留言板链接
                setTimeout(function() {
                    window.location.href = "https://hunan.university/message-board"; // 替换为实际链接
                }, 500);
            });
            
            document.getElementById('shareReport').addEventListener('click', function() {
                showShareTip();
            });
            
            // 为所有文章链接添加点击跟踪
            const articleLinks = document.querySelectorAll('.article-link');
            articleLinks.forEach(link => {
                link.addEventListener('click', function() {
                    showLoading("正在跳转文章...");
                    // 这里可以添加文章点击统计代码
                });
            });
            
            // 添加卡片动画
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                // 延迟显示动画
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, 100 + index * 100);
            });
        }
        
        // 生成签到柱状图
        function generateSignChart() {
            const chartContainer = document.getElementById('signChart');
            chartContainer.innerHTML = '';
            
            // 月度签到数据（模拟数据，实际应从后端获取）
            const monthData = [
                {month: '1月', sign: 28000},
                {month: '2月', sign: 25000},
                {month: '3月', sign: 32000},
                {month: '4月', sign: 30000},
                {month: '5月', sign: 29000},
                {month: '6月', sign: 31000},
                {month: '7月', sign: 20000},
                {month: '8月', sign: 18000},
                {month: '9月', sign: 35000},
                {month: '10月', sign: 40000},
                {month: '11月', sign: 70748},
                {month: '12月', sign: 38000}
            ];
            
            // 计算最大高度用于比例
            const maxSign = Math.max(...monthData.map(item => item.sign));
            const chartHeight = 150;
            
            // 创建柱状图
            monthData.forEach((data, index) => {
                // 计算柱子的高度
                const barHeight = (data.sign / maxSign) * chartHeight;
                
                // 创建柱子
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.height = '0'; // 初始高度为0，用于动画
                bar.style.left = `${(index * 35) + 10}px`;
                
                // 创建月份标签
                const label = document.createElement('div');
                label.className = 'chart-label';
                label.textContent = data.month;
                label.style.left = `${(index * 35) + 10}px`;
                
                // 添加到图表容器
                chartContainer.appendChild(bar);
                chartContainer.appendChild(label);
                
                // 延迟设置高度以创建动画效果
                setTimeout(() => {
                    bar.style.height = `${barHeight}px`;
                    
                    // 为最高的柱子添加特殊样式
                    if (data.sign === maxSign) {
                        bar.style.background = 'linear-gradient(to top, #ff416c, #ff4b2b)';
                    }
                }, 300 + index * 100);
            });
        }
        
        // 显示加载动画
        function showLoading(message) {
            const loader = document.getElementById('loader');
            loader.querySelector('p').textContent = message || '加载中，请稍候...';
            loader.style.display = 'flex';
        }
        
        // 显示分享提示
        function showShareTip() {
            const shareTip = document.getElementById('shareTip');
            shareTip.style.display = 'flex';
            
            // 3秒后自动隐藏
            setTimeout(() => {
                shareTip.style.display = 'none';
            }, 3000);
        }
        
        // 初始化微信分享功能
        function initWeChatShare() {
            // 注意：以下配置需要后端支持获取微信签名
            // 这里仅提供前端代码结构
            if (typeof wx !== 'undefined') {
                // 微信分享配置（实际参数需要从后端获取）
                const shareConfig = {
                    title: '微生活积分中心2025年度报告',
                    desc: '致每一位湖大人，这是我们共同书写的2025',
                    link: window.location.href,
                    imgUrl: 'https://your-domain.com/share-image.jpg', // 分享图标
                    success: function() {
                        console.log('分享成功');
                        // 可以在这里添加分享成功后的回调，比如发放积分奖励
                    },
                    cancel: function() {
                        console.log('取消分享');
                    }
                };
                
                // 配置微信JS-SDK（需要后端签名）
                // wx.config({
                //     debug: false,
                //     appId: '你的AppId',
                //     timestamp: 0,
                //     nonceStr: '',
                //     signature: '',
                //     jsApiList: ['updateAppMessageShareData', 'updateTimelineShareData']
                // });
                
                // wx.ready(function() {
                //     // 分享给朋友
                //     wx.updateAppMessageShareData(shareConfig);
                //     // 分享到朋友圈
                //     wx.updateTimelineShareData(shareConfig);
                // });
            } else {
                // 非微信环境，使用浏览器原生分享
                if (navigator.share) {
                    document.getElementById('shareReport').addEventListener('click', function() {
                        navigator.share({
                            title: '微生活积分中心2025年度报告',
                            text: '致每一位湖大人，这是我们共同书写的2025',
                            url: window.location.href,
                        })
                        .then(() => console.log('分享成功'))
                        .catch((error) => console.log('分享失败', error));
                    });
                }
            }
        }
        
        // 页面滚动效果
        let lastScrollTop = 0;
        window.addEventListener('scroll', function() {
            const st = window.pageYOffset || document.documentElement.scrollTop;
            const header = document.querySelector('.header');
            
            if (st > lastScrollTop && st > 100) {
                // 向下滚动，隐藏底部操作栏
                document.querySelector('.footer-actions').style.transform = 'translateY(100%)';
            } else {
                // 向上滚动，显示底部操作栏
                document.querySelector('.footer-actions').style.transform = 'translateY(0)';
            }
            
            lastScrollTop = st <= 0 ? 0 : st;
        });
    </script>
</body>
</html>